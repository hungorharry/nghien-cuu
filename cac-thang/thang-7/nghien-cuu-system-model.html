<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SÆ¡ Äá»“ TÆ° Duy: PhÃ¢n TÃ­ch & Káº¿ Hoáº¡ch HÃ nh Äá»™ng (TrÆ°á»›c & Sau)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0f2f5 0%, #e0e5ec 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .main-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1200px;
        }
        
        .controls-container {
            background-color: #e6e9ef;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 
                inset -6px -6px 12px rgba(255, 255, 255, 0.9),
                inset 6px 6px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
            width: min(95vw, 1000px);
        }
        .controls-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 15px;
        }
        .controls-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #334155;
            text-transform: uppercase;
            letter-spacing: 1px;
            flex-grow: 1;
        }
        .state-toggle {
            display: flex;
            background-color: #d1d5db;
            border-radius: 10px;
            padding: 4px;
        }
        .state-toggle button {
            padding: 8px 16px;
            border: none;
            background-color: transparent;
            color: #475569;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .state-toggle button.active {
            background-color: #ffffff;
            color: #f97316;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }
        .control-item {
            display: flex;
            align-items: center;
            background: #f0f2f5;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .control-item:hover { background-color: #dde1e7; }
        .control-item input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            accent-color: #f97316;
            cursor: pointer;
        }
        .control-item label {
            color: #475569;
            font-weight: 600;
            cursor: pointer;
            flex-grow: 1;
        }

        .diagram-container {
            position: relative;
            width: min(95vw, 1000px);
            height: min(95vw, 1000px);
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #e6e9ef;
            border-radius: 30px;
            box-shadow: 
                -12px -12px 24px rgba(255, 255, 255, 0.9),
                12px 12px 24px rgba(0, 0, 0, 0.1);
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .circle-node {
            position: absolute;
            color: #ffffff;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.8rem;
            padding: 10px;
            box-sizing: border-box;
            line-height: 1.3;
            box-shadow: 0 6px 12px rgba(51, 65, 85, 0.35);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            cursor: pointer;
            word-break: break-word;
            z-index: 10;
        }
        .circle-node:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 18px rgba(30, 41, 59, 0.5);
        }
        .circle-node.highlight {
            background-color: #f97316;
            box-shadow: 0 8px 20px rgba(249, 115, 22, 0.4);
            border-color: #ea580c !important;
        }
        .circle-node.highlight:hover {
            background-color: #ea580c;
            transform: scale(1.15);
            box-shadow: 0 10px 25px rgba(249, 115, 22, 0.55);
        }
        .rank-label {
            font-size: 0.7em;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 2px;
            text-transform: uppercase;
        }
        .node-status {
            font-size: 0.85em;
            font-weight: 700;
            background-color: rgba(0,0,0,0.2);
            padding: 2px 6px;
            border-radius: 4px;
            margin-top: 5px;
            line-height: 1;
        }
        
        @media (min-width: 768px) {
            .circle-node { font-size: 1rem; padding: 15px; }
            .rank-label { font-size: 0.75em; }
        }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(15, 23, 42, 0.7); backdrop-filter: blur(5px);
            display: flex; align-items: center; justify-content: center;
            z-index: 1000; opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.show { opacity: 1; visibility: visible; }
        .modal-content {
            background-color: #ffffff; padding: 30px 40px; border-radius: 16px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 90%; position: relative;
            transform: scale(0.95) translateY(-20px);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            max-height: 85vh; overflow-y: auto;
        }
        .modal-content::-webkit-scrollbar { width: 8px; }
        .modal-content::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        .modal-content::-webkit-scrollbar-thumb { background: #a8a8a8; border-radius: 10px; }
        .modal-content::-webkit-scrollbar-thumb:hover { background: #888; }
        .modal-overlay.show .modal-content { transform: scale(1) translateY(0); }
        .modal-title { font-size: 2rem; font-weight: 700; color: #1e293b; margin-bottom: 10px; text-align: center; }
        .modal-body { font-size: 1rem; color: #334155; line-height: 1.7; text-align: left; }
        .modal-body h3 { font-size: 1.5rem; font-weight: 600; color: #f97316; margin-top: 25px; margin-bottom: 15px; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px; }
        .modal-body h4 { font-size: 1.25rem; font-weight: 700; color: #0f172a; margin-top: 20px; margin-bottom: 8px; }
        .modal-body strong { color: #0f172a; font-weight: 700; }
        .modal-body ul { list-style-type: none; padding-left: 10px; margin-top: 10px; }
        .modal-body li { position: relative; padding-left: 25px; margin-bottom: 10px; }
        .modal-body li::before { content: 'â€¢'; position: absolute; left: 0; top: 1px; color: #f97316; font-weight: bold; font-size: 1.2em; line-height: 1; }
        .modal-body code { background-color: #f1f5f9; color: #475569; padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', Courier, monospace; }
        .modal-footer { margin-top: 30px; text-align: center; }
        .modal-close-btn { background-color: #ef4444; color: #ffffff; padding: 12px 28px; border-radius: 8px; border: none; cursor: pointer; font-size: 1rem; font-weight: 600; transition: background-color 0.2s ease, transform 0.2s ease; }
        .modal-close-btn:hover { background-color: #dc2626; transform: translateY(-2px); }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="controls-container">
            <div class="controls-header">
                <h3 class="controls-title">PhÃ¢n TÃ­ch & Káº¿ Hoáº¡ch HÃ nh Äá»™ng</h3>
                <div class="state-toggle">
                    <button id="btnBefore" class="active">TrÆ°á»›c Khi Ãp Dá»¥ng</button>
                    <button id="btnAfter">Sau Khi Ãp Dá»¥ng</button>
                </div>
            </div>
            <div id="controlsGrid" class="controls-grid"></div>
        </div>

        <div id="diagramContainer" class="diagram-container">
            <canvas id="diagramCanvas"></canvas>
        </div>
    </div>

    <div id="tooltipModal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modalTitle" class="modal-title"></h2>
            <div id="modalBody" class="modal-body"></div>
            <div class="modal-footer">
                <button id="closeModalBtn" class="modal-close-btn">ÄÃ³ng</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('diagramContainer');
            const canvas = document.getElementById('diagramCanvas');
            const ctx = canvas.getContext('2d');
            const controlsGrid = document.getElementById('controlsGrid');
            const tooltipModal = document.getElementById('tooltipModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const btnBefore = document.getElementById('btnBefore');
            const btnAfter = document.getElementById('btnAfter');

            let currentState = 'before';
            let renderedNodes = [];

            const nodeData = [
                {
                    "text": "PhÃ¢n TÃ­ch 4 Váº¥n Äá» Kinh Doanh",
                    "rank": 1,
                    "connections": ["Káº¿ Hoáº¡ch HÃ nh Äá»™ng 3 Giai Äoáº¡n", "BÃ i TrÃ­ & KhÃ´ng Gian", "ChÆ°Æ¡ng TrÃ¬nh Khuyáº¿n MÃ£i", "Ná»™i Táº¡i NhÃ¢n ViÃªn", "Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i & Marketing"],
                    "states": { "before": { "status": "Tá»•ng Quan", "color": "#334155" }, "after": { "status": "Tá»•ng Quan", "color": "#334155" } },
                    "tooltip": {
                        "before": "### Rank 1: Tá»•ng Quan 4 Váº¥n Äá» Kinh Doanh\n\nÄÃ¢y lÃ  bá»©c tranh tá»•ng thá»ƒ, xÃ¡c Ä‘á»‹nh 4 trá»¥ cá»™t chÃ­nh áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u quáº£ kinh doanh táº¡i gian hÃ ng. Viá»‡c phÃ¢n loáº¡i nÃ y giÃºp há»‡ thá»‘ng hÃ³a cÃ¡c thÃ¡ch thá»©c vÃ  Ä‘á»‹nh hÆ°á»›ng giáº£i phÃ¡p má»™t cÃ¡ch cÃ³ cáº¥u trÃºc.\n\n<ol>\n<li>BÃ i trÃ­ & KhÃ´ng gian: Yáº¿u tá»‘ ná»n táº£ng vá» máº·t váº­t lÃ½. KhÃ¡ch hÃ ng cÃ³ nhÃ¬n tháº¥y sáº£n pháº©m khÃ´ng? KhÃ´ng gian cÃ³ thuáº­n tiá»‡n cho viá»‡c tiáº¿p cáº­n khÃ´ng?</li>\n<li>ChÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i: Yáº¿u tá»‘ thu hÃºt vá» máº·t tÃ i chÃ­nh. CÃ³ lÃ½ do gÃ¬ Ä‘á»ƒ khÃ¡ch hÃ ng mua hÃ ng ngay bÃ¢y giá» khÃ´ng? Æ¯u Ä‘Ã£i cÃ³ Ä‘á»§ háº¥p dáº«n khÃ´ng?</li>\n<li>Ná»™i táº¡i nhÃ¢n viÃªn: Yáº¿u tá»‘ con ngÆ°á»i, áº£nh hÆ°á»Ÿng trá»±c tiáº¿p Ä‘áº¿n tráº£i nghiá»‡m khÃ¡ch hÃ ng. NhÃ¢n viÃªn cÃ³ Ä‘á»§ kiáº¿n thá»©c, ká»¹ nÄƒng vÃ  Ä‘á»™ng lá»±c Ä‘á»ƒ bÃ¡n hÃ ng khÃ´ng?</li>\n<li>Tá»‰ lá»‡ chuyá»ƒn Ä‘á»•i & Marketing: Yáº¿u tá»‘ hiá»‡u quáº£ kinh doanh. CÃ³ bao nhiÃªu ngÆ°á»i xem chuyá»ƒn thÃ nh ngÆ°á»i mua? CÃ¡c hoáº¡t Ä‘á»™ng marketing táº¡i Ä‘iá»ƒm bÃ¡n Ä‘Ã£ hiá»‡u quáº£ chÆ°a?</li>\n</ol>",
                        "after": "### Rank 1: Tá»•ng Quan 4 Váº¥n Äá» Kinh Doanh\n\nSau khi cÃ³ káº¿ hoáº¡ch hÃ nh Ä‘á»™ng, 4 váº¥n Ä‘á» Ä‘Æ°á»£c nhÃ¬n nháº­n má»™t cÃ¡ch há»‡ thá»‘ng vÃ  cÃ³ giáº£i phÃ¡p cá»¥ thá»ƒ cho tá»«ng má»¥c, táº¡o ra má»™t lá»™ trÃ¬nh rÃµ rÃ ng Ä‘á»ƒ cáº£i thiá»‡n hiá»‡u suáº¥t chung."
                    }
                },
                {
                    "text": "Káº¿ Hoáº¡ch HÃ nh Äá»™ng 3 Giai Äoáº¡n",
                    "highlight": true,
                    "rank": 2,
                    "connections": ["Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i & Marketing", "Ná»™i Táº¡i NhÃ¢n ViÃªn", "ChÆ°Æ¡ng TrÃ¬nh Khuyáº¿n MÃ£i", "Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c"],
                    "states": { "before": { "status": "Äá» Xuáº¥t", "color": "#f97316" }, "after": { "status": "Äang Thá»±c Thi", "color": "#f97316" } },
                    "tooltip": {
                        "before": "### Rank 2: Káº¿ Hoáº¡ch HÃ nh Äá»™ng 3 Giai Äoáº¡n Äá»ƒ Kháº¯c Phá»¥c NhÆ°á»£c Äiá»ƒm\n\nÄÃ¢y lÃ  káº¿ hoáº¡ch tá»•ng thá»ƒ, tuáº§n tá»± Ä‘Æ°á»£c Ä‘á» xuáº¥t Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» Ä‘Ã£ xÃ¡c Ä‘á»‹nh, táº­p trung vÃ o viá»‡c tÄƒng tá»‰ lá»‡ chuyá»ƒn Ä‘á»•i cho laptop.\n\n### Giai Ä‘oáº¡n 1: \"Chiáº¿n Dá»‹ch Má»“i CÃ¢u\" (2 Tuáº§n Äáº§u)\n**Má»¥c tiÃªu:** PhÃ¡ vá»¡ sá»± thá» Æ¡, thu hÃºt sá»± chÃº Ã½ vÃ  chuáº©n bá»‹ nÄƒng lá»±c cho nhÃ¢n viÃªn.\n<h4>1. Cáº£i Thiá»‡n TrÆ°ng BÃ y GÃ¢y Sá»‘c</h4>\n<h4>2. ÄÃ o Táº¡o Cáº¥p Tá»‘c Cho NhÃ¢n ViÃªn</h4>\n\n### Giai Ä‘oáº¡n 2: \"XÃ¢y Dá»±ng GiÃ¡ Trá»‹ & TÆ°Æ¡ng TÃ¡c\" (2 Tuáº§n Tiáº¿p Theo)\n**Má»¥c tiÃªu:** Chuyá»ƒn Ä‘á»•i sá»± chÃº Ã½ thÃ nh sá»± quan tÃ¢m.\n<h4>1. Triá»ƒn Khai Khuyáº¿n MÃ£i \"Má»“i\"</h4>\n<h4>2. XÃ¢y Dá»±ng CÃ´ng Cá»¥ So SÃ¡nh</h4>\n\n### Giai Ä‘oáº¡n 3: \"Tá»‘i Æ¯u HÃ³a & Äo LÆ°á»ng\" (ThÃ¡ng Thá»© 2)\n**Má»¥c tiÃªu:** PhÃ¢n tÃ­ch dá»¯ liá»‡u vÃ  cáº£i tiáº¿n liÃªn tá»¥c.\n<h4>1. Thu Tháº­p Dá»¯ Liá»‡u</h4>\n<h4>2. Há»p ÄÃ¡nh GiÃ¡ & Äiá»u Chá»‰nh</h4>",
                        "after": "### Rank 2: Káº¿ Hoáº¡ch HÃ nh Äá»™ng 3 Giai Äoáº¡n (Äang Thá»±c Thi)\n\nKáº¿ hoáº¡ch Ä‘ang Ä‘Æ°á»£c triá»ƒn khai, cÃ¡c hoáº¡t Ä‘á»™ng cá»¥ thá»ƒ trong tá»«ng giai Ä‘oáº¡n Ä‘ang Ä‘Æ°á»£c thá»±c hiá»‡n Ä‘á»ƒ táº¡o ra sá»± thay Ä‘á»•i tÃ­ch cá»±c cho cÃ¡c váº¥n Ä‘á» khÃ¡c.\n\n### Giai Ä‘oáº¡n 1: ÄÃ£ HoÃ n ThÃ nh\n<ul>\n<li>âœ… TrÆ°ng bÃ y gÃ¢y sá»‘c Ä‘Ã£ thu hÃºt Ä‘Æ°á»£c sá»± chÃº Ã½ ban Ä‘áº§u.</li>\n<li>âœ… NhÃ¢n viÃªn Ä‘Ã£ Ä‘Æ°á»£c Ä‘Ã o táº¡o vá» chÃ­nh sÃ¡ch vÃ  cÃ³ ká»‹ch báº£n bÃ¡n hÃ ng cÆ¡ báº£n.</li>\n</ul>\n\n### Giai Ä‘oáº¡n 2: Äang Diá»…n Ra\n<ul>\n<li>ğŸ”¥ Khuyáº¿n mÃ£i \"má»“i\" Ä‘ang Ä‘Æ°á»£c Ã¡p dá»¥ng Ä‘á»ƒ táº¡o tÆ°Æ¡ng tÃ¡c.</li>\n<li>ğŸ”¥ Báº£ng so sÃ¡nh giÃ¡ trá»‹ Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº·t táº¡i quáº§y.</li>\n</ul>\n\n### Giai Ä‘oáº¡n 3: Sáº¯p Tá»›i\n<ul>\n<li>â³ Chuáº©n bá»‹ thu tháº­p dá»¯ liá»‡u vÃ  tá»‘i Æ°u hÃ³a dá»±a trÃªn káº¿t quáº£ thá»±c táº¿.</li>\n</ul>"
                    }
                },
                {
                    "text": "BÃ i TrÃ­ & KhÃ´ng Gian",
                    "rank": 3,
                    "connections": ["PhÃ¢n TÃ­ch 4 Váº¥n Äá» Kinh Doanh"],
                    "states": { "before": { "status": "ÄÃ£ OK", "color": "#10b981" }, "after": { "status": "Tá»‘i Æ¯u HÆ¡n", "color": "#10b981" } },
                    "tooltip": {
                        "before": "### Rank 3: Váº¥n Ä‘á» 1 - BÃ i TrÃ­ & KhÃ´ng Gian\n\n**TÃ¬nh tráº¡ng:** ÄÃ£ giáº£i quyáº¿t (ÄÆ°á»£c Ä‘Ã¡nh giÃ¡ lÃ  \"OK\").\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Hiá»‡n tráº¡ng: Theo anh Lá»™c, viá»‡c bá»‘ trÃ­ ká»‡ hÃ ng, lá»‘i Ä‘i vÃ  khu vá»±c trÆ°ng bÃ y sáº£n pháº©m Ä‘Ã£ Ä‘Æ°á»£c tá»‘i Æ°u. KhÃ¡ch hÃ ng dá»… dÃ ng di chuyá»ƒn vÃ  nhÃ¬n tháº¥y sáº£n pháº©m má»™t cÃ¡ch tá»± nhiÃªn.</li>\n<li>Káº¿t luáº­n: Váº¥n Ä‘á» nÃ y khÃ´ng pháº£i lÃ  nguyÃªn nhÃ¢n chÃ­nh gÃ¢y ra tá»‰ lá»‡ chuyá»ƒn Ä‘á»•i tháº¥p cá»§a laptop. NÃ³ Ä‘Ã£ hoÃ n thÃ nh vai trÃ² ná»n táº£ng cá»§a mÃ¬nh.</li>\n</ul>",
                        "after": "### Rank 3: Váº¥n Ä‘á» 1 - BÃ i TrÃ­ & KhÃ´ng Gian (Tá»‘i Æ¯u HÆ¡n)\n\n**TÃ¬nh tráº¡ng:** Duy trÃ¬ vÃ  cáº£i tiáº¿n.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Dá»±a trÃªn Giai Ä‘oáº¡n 1 cá»§a Káº¿ hoáº¡ch, khÃ´ng gian Ä‘Ã£ Ä‘Æ°á»£c bá»• sung yáº¿u tá»‘ \"Visual Hook\" (TrÆ°ng bÃ y gÃ¢y sá»‘c).</li>\n<li>Káº¿t quáº£: KhÃ´ng gian khÃ´ng chá»‰ \"OK\" mÃ  cÃ²n trá»Ÿ nÃªn thu hÃºt vÃ  gÃ¢y tÃ² mÃ², chá»§ Ä‘á»™ng kÃ©o sá»± chÃº Ã½ cá»§a khÃ¡ch hÃ ng vá» phÃ­a quáº§y laptop, giáº£i quyáº¿t bÆ°á»›c Ä‘áº§u tiÃªn cá»§a phá»…u bÃ¡n hÃ ng.</li>\n</ul>"
                    }
                },
                {
                    "text": "ChÆ°Æ¡ng TrÃ¬nh Khuyáº¿n MÃ£i",
                    "rank": 4,
                    "connections": ["PhÃ¢n TÃ­ch 4 Váº¥n Äá» Kinh Doanh", "Káº¿ Hoáº¡ch HÃ nh Äá»™ng 3 Giai Äoáº¡n"],
                    "states": { "before": { "status": "Cáº§n Tá»‘i Æ¯u", "color": "#f59e0b" }, "after": { "status": "ÄÃ£ Tá»‘i Æ¯u", "color": "#10b981" } },
                    "tooltip": {
                        "before": "### Rank 4: Váº¥n Ä‘á» 2 - ChÆ°Æ¡ng TrÃ¬nh Khuyáº¿n MÃ£i\n\n**TÃ¬nh tráº¡ng:** Cáº§n tá»‘i Æ°u vÃ  tÃ­ch há»£p.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>ThÃ¡ch thá»©c: Pháº£i thiáº¿t káº¿ chÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i (CTKM) cá»§a gian hÃ ng sao cho khÃ´ng \"chá»i\" vá»›i CTKM chung cá»§a nhÃ  sÃ¡ch.</li>\n<li>Giáº£i phÃ¡p Ä‘á» xuáº¥t: \"NÆ°Æ¡ng theo\" CTKM cá»§a nhÃ  sÃ¡ch vÃ  gia tÄƒng giÃ¡ trá»‹ (VD: táº·ng thÃªm voucher 200k).</li>\n</ul>",
                        "after": "### Rank 4: Váº¥n Ä‘á» 2 - ChÆ°Æ¡ng TrÃ¬nh Khuyáº¿n MÃ£i (ÄÃ£ Tá»‘i Æ¯u)\n\n**TÃ¬nh tráº¡ng:** ÄÃ£ tá»‘i Æ°u vÃ  Ä‘ang thá»­ nghiá»‡m.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Dá»±a trÃªn Giai Ä‘oáº¡n 2 cá»§a Káº¿ hoáº¡ch, má»™t chÆ°Æ¡ng trÃ¬nh khuyáº¿n mÃ£i \"má»“i\" cá»¥ thá»ƒ vÃ  háº¥p dáº«n Ä‘Ã£ Ä‘Æ°á»£c triá»ƒn khai (VD: Táº·ng chuá»™t khÃ´ng dÃ¢y).</li>\n<li>Káº¿t quáº£: Khuyáº¿n mÃ£i khÃ´ng cÃ²n lÃ  Ã½ tÆ°á»Ÿng mÃ  Ä‘Ã£ trá»Ÿ thÃ nh má»™t cÃ´ng cá»¥ marketing chá»§ Ä‘á»™ng, táº¡o ra lÃ½ do Ä‘á»ƒ khÃ¡ch hÃ ng lÆ°u tÃ¢m vÃ  tÆ°Æ¡ng tÃ¡c, thay vÃ¬ chá»‰ lÃ  má»™t voucher chung chung.</li>\n</ul>"
                    }
                },
                {
                    "text": "Ná»™i Táº¡i NhÃ¢n ViÃªn",
                    "rank": 5,
                    "connections": ["PhÃ¢n TÃ­ch 4 Váº¥n Äá» Kinh Doanh", "ChÃ­nh SÃ¡ch Báº£o HÃ nh", "Kinh Nghiá»‡m TÆ° Váº¥n", "Káº¿ Hoáº¡ch HÃ nh Äá»™ng 3 Giai Äoáº¡n"],
                    "states": { "before": { "status": "6/10 Äiá»ƒm", "color": "#f59e0b" }, "after": { "status": "8/10 Äiá»ƒm", "color": "#10b981" } },
                    "tooltip": {
                        "before": "### Rank 5: Váº¥n Ä‘á» 3 - Ná»™i Táº¡i NhÃ¢n ViÃªn & NhÃ¢n Lá»±c\n\n**TÃ¬nh tráº¡ng:** Trung bÃ¬nh (ÄÃ¡nh giÃ¡ 6/10 Ä‘iá»ƒm).\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Äiá»ƒm yáº¿u (4/10):\n<ol>\n<li>Lá»— há»•ng kiáº¿n thá»©c: KhÃ´ng náº¯m rÃµ chÃ­nh sÃ¡ch báº£o hÃ nh.</li>\n<li>Thiáº¿u kinh nghiá»‡m thá»±c chiáº¿n: ChÆ°a cÃ³ kinh nghiá»‡m tÆ° váº¥n laptop.</li>\n</ol></li>\n</ul>",
                        "after": "### Rank 5: Váº¥n Ä‘á» 3 - Ná»™i Táº¡i NhÃ¢n ViÃªn & NhÃ¢n Lá»±c (ÄÃ£ Cáº£i Thiá»‡n)\n\n**TÃ¬nh tráº¡ng:** Tá»‘t (ÄÃ¡nh giÃ¡ 8/10 Ä‘iá»ƒm).\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Dá»±a trÃªn Giai Ä‘oáº¡n 1 cá»§a Káº¿ hoáº¡ch, nhÃ¢n viÃªn Ä‘Ã£ tráº£i qua Ä‘Ã o táº¡o cáº¥p tá»‘c.</li>\n<li>Káº¿t quáº£:\n<ol>\n<li>Kiáº¿n thá»©c vá»¯ng cháº¯c hÆ¡n: NhÃ¢n viÃªn Ä‘Ã£ náº¯m rÃµ chÃ­nh sÃ¡ch báº£o hÃ nh, tá»± tin tráº£ lá»i khÃ¡ch hÃ ng.</li>\n<li>Tá»± tin hÆ¡n: CÃ³ ká»‹ch báº£n bÃ¡n hÃ ng 30 giÃ¢y lÃ m \"phao cá»©u sinh\", giÃºp há» báº¯t Ä‘áº§u cuá»™c trÃ² chuyá»‡n mÃ  khÃ´ng lÃºng tÃºng.</li>\n</ol>\nNÄƒng lá»±c cá»§a nhÃ¢n viÃªn Ä‘Ã£ Ä‘Æ°á»£c nÃ¢ng cáº¥p Ä‘á»ƒ sáºµn sÃ ng Ä‘Ã³n nháº­n nhá»¯ng khÃ¡ch hÃ ng Ä‘áº§u tiÃªn.</li>\n</ul>"
                    }
                },
                {
                    "text": "Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i & Marketing",
                    "rank": 6,
                    "connections": ["PhÃ¢n TÃ­ch 4 Váº¥n Äá» Kinh Doanh", "Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c", "PhÃ¢n TÃ­ch Tá»‰ Lá»‡", "Káº¿ Hoáº¡ch HÃ nh Äá»™ng 3 Giai Äoáº¡n"],
                    "states": { "before": { "status": "BÃ¡o Äá»™ng", "color": "#ef4444" }, "after": { "status": "Äang Cáº£i Thiá»‡n", "color": "#10b981" } },
                    "tooltip": {
                        "before": "### Rank 6: Váº¥n Ä‘á» 4 - Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i & Marketing\n\n**TÃ¬nh tráº¡ng:** BÃ¡o Ä‘á»™ng (Tá»‰ lá»‡ chuyá»ƒn Ä‘á»•i laptop = 0%).\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Váº¥n Ä‘á» cá»‘t lÃµi: Sáº£n pháº©m laptop Ä‘ang \"vÃ´ hÃ¬nh\" trong máº¯t khÃ¡ch hÃ ng.</li>\n<li>NguyÃªn nhÃ¢n: Cáº£m giÃ¡c \"chá»‰ Ä‘á»ƒ trÆ°ng bÃ y\", thiáº¿u cÃ¡c hoáº¡t Ä‘á»™ng marketing táº¡i Ä‘iá»ƒm bÃ¡n.</li>\n</ul>",
                        "after": "### Rank 6: Váº¥n Ä‘á» 4 - Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i & Marketing (Äang Cáº£i Thiá»‡n)\n\n**TÃ¬nh tráº¡ng:** CÃ³ tÃ­n hiá»‡u tÃ­ch cá»±c.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Káº¿ hoáº¡ch hÃ nh Ä‘á»™ng Ä‘Ã£ tÃ¡c Ä‘á»™ng trá»±c tiáº¿p vÃ o cÃ¡c bÆ°á»›c Ä‘áº§u cá»§a phá»…u bÃ¡n hÃ ng.</li>\n<li>Káº¿t quáº£:\n<ul>\n<li>TrÆ°ng bÃ y má»›i Ä‘Ã£ thu hÃºt Ä‘Æ°á»£c sá»± chÃº Ã½.</li>\n<li>Khuyáº¿n mÃ£i \"má»“i\" Ä‘Ã£ táº¡o ra sá»± lÆ°u tÃ¢m.</li>\n<li>Tá»‰ lá»‡ chuyá»ƒn Ä‘á»•i tá»« 0% Ä‘Ã£ báº¯t Ä‘áº§u cÃ³ nhá»¯ng tÃ­n hiá»‡u tÃ­ch cá»±c Ä‘áº§u tiÃªn, táº¡o ná»n táº£ng Ä‘á»ƒ Ä‘o lÆ°á»ng vÃ  tá»‘i Æ°u á»Ÿ Giai Ä‘oáº¡n 3.</li>\n</ul>\n</ul>"
                    }
                },
                {
                    "text": "Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c",
                    "rank": 7,
                    "connections": ["Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i & Marketing", "1. ChÃº Ã", "2. LÆ°u TÃ¢m", "3. So SÃ¡nh GiÃ¡ Trá»‹", "4. Ra Quyáº¿t Äá»‹nh", "5. Chá»‘t ÄÆ¡n", "Káº¿ Hoáº¡ch HÃ nh Äá»™ng 3 Giai Äoáº¡n"],
                    "states": { "before": { "status": "LÃ½ Thuyáº¿t", "color": "#64748b" }, "after": { "status": "Äang Ãp Dá»¥ng", "color": "#64748b" } },
                    "tooltip": {
                        "before": "### Rank 7: Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c - Khung SÆ°á»n LÃ½ Thuyáº¿t\n\nÄÃ¢y lÃ  mÃ´ hÃ¬nh lÃ½ thuyáº¿t Ä‘Æ°á»£c Ä‘Æ°a ra Ä‘á»ƒ cáº¥u trÃºc hÃ³a hÃ nh trÃ¬nh cá»§a khÃ¡ch hÃ ng vÃ  xÃ¡c Ä‘á»‹nh cÃ¡c Ä‘iá»ƒm cáº§n can thiá»‡p.\n\n<ol>\n<li>BÆ°á»›c 1: ChÃº Ã½: LÃ m khÃ¡ch hÃ ng Dá»ªNG Láº I vÃ  NHÃŒN.</li>\n<li>BÆ°á»›c 2: LÆ°u tÃ¢m: LÃ m khÃ¡ch hÃ ng tháº¥y THÃš Vá»Š vÃ  muá»‘n TÃŒM HIá»‚U.</li>\n<li>BÆ°á»›c 3: So sÃ¡nh: GiÃºp khÃ¡ch hÃ ng tháº¥y GIÃ TRá»Š VÆ¯á»¢T TRá»˜I.</li>\n<li>BÆ°á»›c 4: Ra quyáº¿t Ä‘á»‹nh: Xá»­ lÃ½ cÃ¡c RÃ€O Cáº¢N cuá»‘i cÃ¹ng.</li>\n<li>BÆ°á»›c 5: Chá»‘t Ä‘Æ¡n: Táº¡o ra lÃ½ do Ä‘á»ƒ hÃ nh Ä‘á»™ng NGAY.</li>\n</ol>",
                        "after": "### Rank 7: Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c (Äang Ãp Dá»¥ng)\n\nKáº¿ hoáº¡ch hÃ nh Ä‘á»™ng Ä‘Æ°á»£c xÃ¢y dá»±ng bÃ¡m sÃ¡t vÃ o mÃ´ hÃ¬nh phá»…u bÃ¡n hÃ ng, biáº¿n lÃ½ thuyáº¿t thÃ nh hÃ nh Ä‘á»™ng cá»¥ thá»ƒ.\n\n<ol>\n<li>BÆ°á»›c 1 (ChÃº Ã½): Giáº£i quyáº¿t báº±ng TrÆ°ng bÃ y gÃ¢y sá»‘c.</li>\n<li>BÆ°á»›c 2 (LÆ°u tÃ¢m): Giáº£i quyáº¿t báº±ng Khuyáº¿n mÃ£i \"má»“i\".</li>\n<li>BÆ°á»›c 3 (So sÃ¡nh): Giáº£i quyáº¿t báº±ng Báº£ng so sÃ¡nh giÃ¡ trá»‹.</li>\n<li>BÆ°á»›c 4 & 5 (Quyáº¿t Ä‘á»‹nh & Chá»‘t Ä‘Æ¡n): Sáº½ Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a á»Ÿ Giai Ä‘oáº¡n 3 dá»±a trÃªn dá»¯ liá»‡u thu tháº­p Ä‘Æ°á»£c.</li>\n</ol>"
                    }
                },
                {
                    "text": "PhÃ¢n TÃ­ch Tá»‰ Lá»‡",
                    "rank": 8,
                    "connections": ["Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i & Marketing"],
                     "states": { "before": { "status": "Laptop = 0%", "color": "#ef4444" }, "after": { "status": "Laptop > 0%", "color": "#10b981" } },
                    "tooltip": {
                         "before": "### Rank 8: PhÃ¢n TÃ­ch Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i Hiá»‡n Táº¡i\n\nÄÃ¢y lÃ  nhá»¯ng con sá»‘ cá»¥ thá»ƒ chá»©ng minh má»©c Ä‘á»™ nghiÃªm trá»ng cá»§a váº¥n Ä‘á».\n\n<h4>Sá»‘ liá»‡u cá»¥ thá»ƒ</h4>\n<ul>\n<li>MÃ¡y chiáº¿u: ~7% (Tá»‘t).</li>\n<li>MÃ¡y in tem: 1-2% (Tháº¥p).</li>\n<li>Laptop: 0% (BÃ¡o Ä‘á»™ng).</li>\n</ul>",
                         "after": "### Rank 8: PhÃ¢n TÃ­ch Tá»‰ Lá»‡ Chuyá»ƒn Äá»•i (ÄÃ£ Thay Äá»•i)\n\nSau khi Ã¡p dá»¥ng cÃ¡c giáº£i phÃ¡p, cÃ¡c chá»‰ sá»‘ báº¯t Ä‘áº§u cÃ³ sá»± chuyá»ƒn biáº¿n.\n\n<h4>Sá»‘ liá»‡u dá»± kiáº¿n</h4>\n<ul>\n<li>MÃ¡y chiáº¿u: ~7% (Duy trÃ¬).</li>\n<li>MÃ¡y in tem: 1-2% (Duy trÃ¬).</li>\n<li>Laptop: > 0%. Con sá»‘ cÃ³ thá»ƒ váº«n cÃ²n nhá», nhÆ°ng quan trá»ng nháº¥t lÃ  nÃ³ Ä‘Ã£ khÃ´ng cÃ²n lÃ  0. ÄÃ£ cÃ³ dá»¯ liá»‡u ban Ä‘áº§u Ä‘á»ƒ phÃ¢n tÃ­ch vÃ  tá»‘i Æ°u, phÃ¡ vá»¡ Ä‘Æ°á»£c tÃ¬nh tráº¡ng báº¿ táº¯c.</li>\n</ul>"
                    }
                },
                {
                    "text": "ChÃ­nh SÃ¡ch Báº£o HÃ nh",
                    "rank": 9,
                    "connections": ["Ná»™i Táº¡i NhÃ¢n ViÃªn"],
                    "states": { "before": { "status": "Máº­p Má»", "color": "#ef4444" }, "after": { "status": "RÃµ RÃ ng", "color": "#10b981" } },
                     "tooltip": {
                        "before": "### Rank 9: Chi Tiáº¿t Váº¥n Äá» - ChÃ­nh SÃ¡ch Báº£o HÃ nh\n\n**TÃ¬nh tráº¡ng:** Máº­p má», thiáº¿u thá»‘ng nháº¥t.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Biá»ƒu hiá»‡n: NhÃ¢n viÃªn khÃ´ng dÃ¡m \"cháº¯c\" khi tráº£ lá»i khÃ¡ch, cÃ³ sá»± khÃ¡c biá»‡t thÃ´ng tin giá»¯a cÃ¡c bÃªn.</li>\n<li>Há»‡ quáº£: LÃ m xÃ³i mÃ²n lÃ²ng tin cá»§a khÃ¡ch hÃ ng, Ä‘áº·c biá»‡t vá»›i sáº£n pháº©m giÃ¡ trá»‹ cao.</li>\n</ul>",
                        "after": "### Rank 9: Chi Tiáº¿t Váº¥n Äá» - ChÃ­nh SÃ¡ch Báº£o HÃ nh (ÄÃ£ Giáº£i Quyáº¿t)\n\n**TÃ¬nh tráº¡ng:** RÃµ rÃ ng, thá»‘ng nháº¥t.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Má»™t buá»•i há»p thá»‘ng nháº¥t Ä‘Ã£ Ä‘Æ°á»£c tá»• chá»©c (Giai Ä‘oáº¡n 1).</li>\n<li>Káº¿t quáº£: ToÃ n bá»™ nhÃ¢n viÃªn Ä‘Ã£ Ä‘Æ°á»£c trang bá»‹ má»™t tÃ i liá»‡u FAQ chuáº©n. Giá» Ä‘Ã¢y, há» cÃ³ thá»ƒ tráº£ lá»i cÃ¡c cÃ¢u há»i vá» báº£o hÃ nh má»™t cÃ¡ch tá»± tin vÃ  nháº¥t quÃ¡n, giÃºp xÃ¢y dá»±ng lÃ²ng tin vá»›i khÃ¡ch hÃ ng.</li>\n</ul>"
                    }
                },
                {
                    "text": "Kinh Nghiá»‡m TÆ° Váº¥n",
                    "rank": 10,
                    "connections": ["Ná»™i Táº¡i NhÃ¢n ViÃªn"],
                    "states": { "before": { "status": "Thiáº¿u Tráº§m Trá»ng", "color": "#ef4444" }, "after": { "status": "Báº¯t Äáº§u TÃ­ch LÅ©y", "color": "#f59e0b" } },
                    "tooltip": {
                        "before": "### Rank 10: Chi Tiáº¿t Váº¥n Äá» - Kinh Nghiá»‡m TÆ° Váº¥n\n\n**TÃ¬nh tráº¡ng:** Thiáº¿u tráº§m trá»ng.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Váº¥n Ä‘á» cá»‘t lÃµi: RÆ¡i vÃ o \"vÃ²ng láº·p tiÃªu cá»±c\": KhÃ´ng cÃ³ khÃ¡ch â khÃ´ng cÃ³ kinh nghiá»‡m â khÃ´ng bÃ¡n Ä‘Æ°á»£c hÃ ng.</li>\n<li>Biá»ƒu hiá»‡n: NhÃ¢n viÃªn khÃ´ng cÃ³ mÃ´ hÃ¬nh Ä‘á»ƒ há»c há»i, lÃºng tÃºng khi cÃ³ khÃ¡ch quan tÃ¢m.</li>\n</ul>",
                        "after": "### Rank 10: Chi Tiáº¿t Váº¥n Äá» - Kinh Nghiá»‡m TÆ° Váº¥n (Báº¯t Äáº§u TÃ­ch LÅ©y)\n\n**TÃ¬nh tráº¡ng:** CÃ³ cÆ¡ há»™i Ä‘á»ƒ phÃ¡t triá»ƒn.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: CÃ¡c hoáº¡t Ä‘á»™ng marketing á»Ÿ Giai Ä‘oáº¡n 1 & 2 Ä‘Ã£ phÃ¡ vá»¡ vÃ²ng láº·p tiÃªu cá»±c báº±ng cÃ¡ch chá»§ Ä‘á»™ng mang khÃ¡ch hÃ ng Ä‘áº¿n.</li>\n<li>Káº¿t quáº£: NhÃ¢n viÃªn Ä‘Ã£ báº¯t Ä‘áº§u cÃ³ nhá»¯ng cuá»™c tÆ°Æ¡ng tÃ¡c Ä‘áº§u tiÃªn vá» laptop. DÃ¹ cÃ³ thá»ƒ chÆ°a chá»‘t Ä‘Æ°á»£c Ä‘Æ¡n, nhÆ°ng má»—i láº§n tÆ°Æ¡ng tÃ¡c lÃ  má»™t láº§n há» tÃ­ch lÅ©y kinh nghiá»‡m, há»c há»i tá»« cÃ¢u há»i cá»§a khÃ¡ch vÃ  dáº§n trá»Ÿ nÃªn dáº¡n dÃ y hÆ¡n.</li>\n</ul>"
                    }
                },
                {
                    "text": "1. ChÃº Ã",
                    "rank": 11,
                    "connections": ["Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c"],
                    "states": { "before": { "status": "Tháº¥t Báº¡i", "color": "#ef4444" }, "after": { "status": "ThÃ nh CÃ´ng", "color": "#10b981" } },
                    "tooltip": {
                        "before": "### Rank 11: Chi Tiáº¿t BÆ°á»›c 1 - Thu hÃºt sá»± ChÃº Ã (Attention)\n\n**TÃ¬nh tráº¡ng:** Tháº¥t báº¡i.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Váº¥n Ä‘á» hiá»‡n táº¡i: Quáº§y laptop Ä‘ang bá»‹ \"tÃ ng hÃ¬nh\". NÃ³ hÃ²a láº«n vÃ o khÃ´ng gian chung cá»§a nhÃ  sÃ¡ch vÃ  khÃ´ng cÃ³ gÃ¬ ná»•i báº­t.</li>\n</ul>",
                        "after": "### Rank 11: Chi Tiáº¿t BÆ°á»›c 1 - Thu hÃºt sá»± ChÃº Ã (Attention) (ThÃ nh CÃ´ng)\n\n**TÃ¬nh tráº¡ng:** ÄÃ£ giáº£i quyáº¿t.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: TrÆ°ng bÃ y gÃ¢y sá»‘c (Visual Hook) tá»« Giai Ä‘oáº¡n 1 Ä‘Ã£ Ä‘Æ°á»£c triá»ƒn khai.</li>\n<li>Káº¿t quáº£: KhÃ¡ch hÃ ng giá» Ä‘Ã¢y khÃ´ng thá»ƒ khÃ´ng nhÃ¬n tháº¥y quáº§y laptop. Yáº¿u tá»‘ \"láº¡\" vÃ  \"báº¥t ngá»\" Ä‘Ã£ thÃ nh cÃ´ng trong viá»‡c khiáº¿n há» pháº£i dá»«ng láº¡i, hoÃ n thÃ nh xuáº¥t sáº¯c bÆ°á»›c Ä‘áº§u tiÃªn cá»§a phá»…u.</li>\n</ul>"
                    }
                },
                {
                    "text": "2. LÆ°u TÃ¢m",
                    "rank": 12,
                    "connections": ["Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c"],
                    "states": { "before": { "status": "Tháº¥t Báº¡i", "color": "#ef4444" }, "after": { "status": "ThÃ nh CÃ´ng", "color": "#10b981" } },
                    "tooltip": {
                        "before": "### Rank 12: Chi Tiáº¿t BÆ°á»›c 2 - Táº¡o sá»± LÆ°u tÃ¢m (Consideration)\n\n**TÃ¬nh tráº¡ng:** Tháº¥t báº¡i.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Váº¥n Ä‘á» hiá»‡n táº¡i: Ngay cáº£ khi khÃ¡ch hÃ ng nhÃ¬n tháº¥y, há» cÅ©ng khÃ´ng cÃ³ lÃ½ do gÃ¬ Ä‘á»ƒ tiáº¿n láº¡i gáº§n hoáº·c há»i.</li>\n</ul>",
                        "after": "### Rank 12: Chi Tiáº¿t BÆ°á»›c 2 - Táº¡o sá»± LÆ°u tÃ¢m (Consideration) (ThÃ nh CÃ´ng)\n\n**TÃ¬nh tráº¡ng:** ÄÃ£ giáº£i quyáº¿t.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Khuyáº¿n mÃ£i \"má»“i\" tá»« Giai Ä‘oáº¡n 2 Ä‘Ã£ Ä‘Æ°á»£c Ã¡p dá»¥ng.</li>\n<li>Káº¿t quáº£: KhÃ¡ch hÃ ng khÃ´ng chá»‰ nhÃ¬n mÃ  cÃ²n cÃ³ lÃ½ do cá»¥ thá»ƒ Ä‘á»ƒ quan tÃ¢m (vÃ¬ cÃ³ Æ°u Ä‘Ã£i). Äiá»u nÃ y Ä‘Ã£ kÃ­ch thÃ­ch há» tÃ¬m hiá»ƒu thÃªm, chuyá»ƒn tá»« tráº¡ng thÃ¡i \"nhÃ¬n tháº¥y\" sang \"quan tÃ¢m\".</li>\n</ul>"
                    }
                },
                {
                    "text": "3. So SÃ¡nh GiÃ¡ Trá»‹",
                    "rank": 13,
                    "connections": ["Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c"],
                    "states": { "before": { "status": "Tháº¥t Báº¡i", "color": "#ef4444" }, "after": { "status": "Äang Thá»±c Hiá»‡n", "color": "#f59e0b" } },
                    "tooltip": {
                        "before": "### Rank 13: Chi Tiáº¿t BÆ°á»›c 3 - So SÃ¡nh GiÃ¡ Trá»‹ (Comparison)\n\n**TÃ¬nh tráº¡ng:** Tháº¥t báº¡i.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Váº¥n Ä‘á» hiá»‡n táº¡i: KhÃ¡ch hÃ ng khÃ´ng cÃ³ Ä‘á»§ thÃ´ng tin Ä‘á»ƒ so sÃ¡nh vÃ  máº·c Ä‘á»‹nh ráº±ng mua á»Ÿ Ä‘Ã¢y khÃ´ng cÃ³ lá»£i.</li>\n</ul>",
                        "after": "### Rank 13: Chi Tiáº¿t BÆ°á»›c 3 - So SÃ¡nh GiÃ¡ Trá»‹ (Comparison) (Äang Thá»±c Hiá»‡n)\n\n**TÃ¬nh tráº¡ng:** ÄÃ£ cÃ³ cÃ´ng cá»¥ há»— trá»£.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Báº£ng so sÃ¡nh giÃ¡ trá»‹ tá»« Giai Ä‘oáº¡n 2 Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº·t táº¡i quáº§y.</li>\n<li>Káº¿t quáº£: Gian hÃ ng Ä‘Ã£ chá»§ Ä‘á»™ng cung cáº¥p cho khÃ¡ch hÃ ng má»™t cÃ´ng cá»¥ Ä‘á»ƒ so sÃ¡nh, lÃ m ná»•i báº­t tá»•ng giÃ¡ trá»‹ mÃ  há» nháº­n Ä‘Æ°á»£c. Äiá»u nÃ y giÃºp Ä‘á»‹nh hÆ°á»›ng suy nghÄ© cá»§a khÃ¡ch hÃ ng theo hÆ°á»›ng cÃ³ lá»£i cho gian hÃ ng.</li>\n</ul>"
                    }
                },
                {
                    "text": "4. Ra Quyáº¿t Äá»‹nh",
                    "rank": 14,
                    "connections": ["Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c"],
                    "states": { "before": { "status": "ChÆ°a Tá»›i", "color": "#94a3b8" }, "after": { "status": "Báº¯t Äáº§u Gáº·p", "color": "#f59e0b" } },
                    "tooltip": {
                        "before": "### Rank 14: Chi Tiáº¿t BÆ°á»›c 4 - Há»— trá»£ Ra Quyáº¿t Äá»‹nh (Decision)\n\n**TÃ¬nh tráº¡ng:** ChÆ°a cÃ³ cÆ¡ há»™i tiáº¿p cáº­n.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Do cÃ¡c bÆ°á»›c Ä‘áº§u cá»§a phá»…u bá»‹ táº¯c, gáº§n nhÆ° khÃ´ng cÃ³ khÃ¡ch hÃ ng nÃ o Ä‘i Ä‘áº¿n giai Ä‘oáº¡n nÃ y.</li>\n</ul>",
                        "after": "### Rank 14: Chi Tiáº¿t BÆ°á»›c 4 - Há»— trá»£ Ra Quyáº¿t Äá»‹nh (Decision) (Báº¯t Äáº§u Gáº·p)\n\n**TÃ¬nh tráº¡ng:** Báº¯t Ä‘áº§u xuáº¥t hiá»‡n.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Khi cÃ¡c bÆ°á»›c 1, 2, 3 Ä‘Æ°á»£c khÆ¡i thÃ´ng, Ä‘Ã£ cÃ³ nhá»¯ng khÃ¡ch hÃ ng Ä‘áº§u tiÃªn Ä‘i Ä‘áº¿n giai Ä‘oáº¡n do dá»± cuá»‘i cÃ¹ng.</li>\n<li>Káº¿t quáº£: NhÃ¢n viÃªn báº¯t Ä‘áº§u cÃ³ cÆ¡ há»™i thá»±c hÃ nh ká»¹ nÄƒng xá»­ lÃ½ tá»« chá»‘i vÃ  cá»§ng cá»‘ quyáº¿t Ä‘á»‹nh cho khÃ¡ch. Dá»¯ liá»‡u vá» cÃ¡c rÃ o cáº£n thá»±c táº¿ báº¯t Ä‘áº§u Ä‘Æ°á»£c thu tháº­p.</li>\n</ul>"
                    }
                },
                {
                    "text": "5. Chá»‘t ÄÆ¡n",
                    "rank": 15,
                    "connections": ["Phá»…u BÃ¡n HÃ ng 5 BÆ°á»›c"],
                    "states": { "before": { "status": "ChÆ°a Tá»›i", "color": "#94a3b8" }, "after": { "status": "Má»¥c TiÃªu Tiáº¿p Theo", "color": "#f59e0b" } },
                    "tooltip": {
                        "before": "### Rank 15: Chi Tiáº¿t BÆ°á»›c 5 - ThÃºc Äáº©y Chá»‘t ÄÆ¡n (Action/Closing)\n\n**TÃ¬nh tráº¡ng:** ChÆ°a cÃ³ cÆ¡ há»™i tiáº¿p cáº­n.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>ÄÃ¢y lÃ  bÆ°á»›c cuá»‘i cÃ¹ng vÃ  xa vá»i nháº¥t trong tÃ¬nh tráº¡ng hiá»‡n táº¡i.</li>\n</ul>",
                        "after": "### Rank 15: Chi Tiáº¿t BÆ°á»›c 5 - ThÃºc Äáº©y Chá»‘t ÄÆ¡n (Action/Closing) (Má»¥c TiÃªu Tiáº¿p Theo)\n\n**TÃ¬nh tráº¡ng:** Sáº½ Ä‘Æ°á»£c táº­p trung á»Ÿ Giai Ä‘oáº¡n 3.\n\n<h4>PhÃ¢n tÃ­ch cá»¥ thá»ƒ</h4>\n<ul>\n<li>Thay Ä‘á»•i: Sau khi thu tháº­p Ä‘á»§ dá»¯ liá»‡u vá» lÃ½ do khÃ¡ch hÃ ng do dá»± á»Ÿ bÆ°á»›c 4, Giai Ä‘oáº¡n 3 sáº½ táº­p trung vÃ o viá»‡c thiáº¿t káº¿ cÃ¡c ká»¹ thuáº­t chá»‘t Ä‘Æ¡n hiá»‡u quáº£.</li>\n<li>Káº¿t quáº£ (dá»± kiáº¿n): Ãp dá»¥ng cÃ¡c ká»¹ thuáº­t táº¡o sá»± khan hiáº¿m vÃ  kháº©n cáº¥p má»™t cÃ¡ch thÃ´ng minh, dá»±a trÃªn dá»¯ liá»‡u thá»±c táº¿ Ä‘á»ƒ tÄƒng tá»‰ lá»‡ khÃ¡ch hÃ ng ra quyáº¿t Ä‘á»‹nh ngay láº­p tá»©c.</li>\n</ul>"
                    }
                }
            ];

            nodeData.forEach((node, index) => {
                node.isActive = true; 
                node.originalIndex = index;
            });
            
            const createControls = () => {
                controlsGrid.innerHTML = '';
                const sortedNodes = [...nodeData].sort((a, b) => a.rank - b.rank);

                sortedNodes.forEach(node => {
                    const controlItem = document.createElement('div');
                    controlItem.className = 'control-item';

                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.id = `check-${node.originalIndex}`;
                    checkbox.checked = node.isActive;
                    checkbox.dataset.index = node.originalIndex;

                    const label = document.createElement('label');
                    label.htmlFor = `check-${node.originalIndex}`;
                    label.textContent = node.text;

                    controlItem.appendChild(checkbox);
                    controlItem.appendChild(label);
                    controlsGrid.appendChild(controlItem);

                    checkbox.addEventListener('change', (e) => {
                        const index = parseInt(e.target.dataset.index);
                        nodeData.find(n => n.originalIndex === index).isActive = e.target.checked;
                        renderDiagram();
                    });
                });
            };

            const renderDiagram = () => {
                const containerSize = Math.min(container.offsetWidth, container.offsetHeight);
                canvas.width = containerSize;
                canvas.height = containerSize;
                
                container.querySelectorAll('.circle-node').forEach(el => el.remove());
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const activeNodesData = nodeData.filter(node => node.isActive).sort((a,b) => a.rank - b.rank);

                if (activeNodesData.length > 0) {
                    createNodes(activeNodesData, containerSize);
                    drawNetworkLines();
                }
            };
            
            const createNodes = (activeNodes, containerSize) => {
                const numNodes = activeNodes.length;
                const nodeDiameterRatio = numNodes > 9 ? 0.16 : (numNodes > 5 ? 0.20 : 0.24);
                const radius = containerSize / 2 * (numNodes > 1 ? 0.75 : 0);
                const centerX = containerSize / 2;
                const centerY = containerSize / 2;
                const nodeDiameter = containerSize * nodeDiameterRatio;
                const nodeRadius = nodeDiameter / 2;

                renderedNodes = [];

                activeNodes.forEach((data, i) => {
                    const angle = (i / numNodes) * Math.PI * 2 - Math.PI / 2;
                    const x = centerX + radius * Math.cos(angle) - nodeRadius;
                    const y = centerY + radius * Math.sin(angle) - nodeRadius;

                    const nodeElement = document.createElement('div');
                    nodeElement.classList.add('circle-node');
                    if (data.highlight) nodeElement.classList.add('highlight');
                    nodeElement.style.width = `${nodeDiameter}px`;
                    nodeElement.style.height = `${nodeDiameter}px`;
                    nodeElement.style.left = `${x}px`;
                    nodeElement.style.top = `${y}px`;
                    
                    const rankLabel = document.createElement('span');
                    rankLabel.classList.add('rank-label');
                    rankLabel.textContent = `Chá»§ Ä‘á» ${data.rank}`;
                    nodeElement.appendChild(rankLabel);

                    const textContent = document.createElement('span');
                    textContent.textContent = data.text;
                    nodeElement.appendChild(textContent);

                    const statusLabel = document.createElement('div');
                    statusLabel.classList.add('node-status');
                    nodeElement.appendChild(statusLabel);

                    nodeElement.dataset.originalIndex = data.originalIndex;
                    container.appendChild(nodeElement);
                    
                    const nodeInfo = { ...data, x: x + nodeRadius, y: y + nodeRadius, radius: nodeRadius, element: nodeElement };
                    renderedNodes.push(nodeInfo);
                    
                    nodeElement.addEventListener('click', () => {
                        const clickedIndex = parseInt(nodeElement.dataset.originalIndex);
                        const originalNodeData = nodeData.find(n => n.originalIndex === clickedIndex);
                        modalTitle.textContent = originalNodeData.text;
                        modalBody.innerHTML = marked.parse(originalNodeData.tooltip[currentState]); 
                        tooltipModal.classList.add('show');
                        tooltipModal.querySelector('.modal-content').scrollTop = 0;
                    });
                });
                applyCurrentStateStyles();
            };
            
            const drawNetworkLines = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const drawBidirectionalArrow = (context, fromX, fromY, toX, toY) => {
                    const headlen = 10;
                    const angle = Math.atan2(toY - fromY, toX - fromX);
                    context.beginPath();
                    context.moveTo(fromX, fromY);
                    context.lineTo(toX, toY);
                    context.lineTo(toX - headlen * Math.cos(angle - Math.PI / 6), toY - headlen * Math.sin(angle - Math.PI / 6));
                    context.moveTo(toX, toY);
                    context.lineTo(toX - headlen * Math.cos(angle + Math.PI / 6), toY - headlen * Math.sin(angle + Math.PI / 6));
                    context.moveTo(fromX, fromY);
                    context.lineTo(fromX + headlen * Math.cos(angle - Math.PI / 6), fromY + headlen * Math.sin(angle - Math.PI / 6));
                    context.moveTo(fromX, fromY);
                    context.lineTo(fromX + headlen * Math.cos(angle + Math.PI / 6), fromY + headlen * Math.sin(angle + Math.PI / 6));
                    context.stroke();
                };
                
                const renderedNodeMap = new Map(renderedNodes.map(node => [node.text, node]));
                const drawnConnections = new Set();
                
                ctx.lineWidth = 2;
                ctx.strokeStyle = 'rgba(100, 116, 139, 0.7)';

                for (const node1 of renderedNodes) {
                    if (node1.connections) {
                        for (const connectionName of node1.connections) {
                             const node2 = renderedNodeMap.get(connectionName);
                             if (node2) {
                                const connectionKey = [node1.text, node2.text].sort().join('--');
                                if (!drawnConnections.has(connectionKey)) {
                                    const angle = Math.atan2(node2.y - node1.y, node2.x - node1.x);
                                    const startX = node1.x + node1.radius * Math.cos(angle);
                                    const startY = node1.y + node1.radius * Math.sin(angle);
                                    const endX = node2.x - node2.radius * Math.cos(angle);
                                    const endY = node2.y - node2.radius * Math.sin(angle);
                                    drawBidirectionalArrow(ctx, startX, startY, endX, endY);
                                    drawnConnections.add(connectionKey);
                                }
                             }
                        }
                    }
                }
            };
            
            const applyCurrentStateStyles = () => {
                renderedNodes.forEach(node => {
                    if (node.states && node.states[currentState]) {
                        const state = node.states[currentState];
                        node.element.style.backgroundColor = state.color;
                        node.element.style.borderColor = getDarkerColor(state.color);
                        const statusLabel = node.element.querySelector('.node-status');
                        if (statusLabel) {
                            statusLabel.textContent = state.status;
                            statusLabel.style.display = 'inline-block';
                        }
                    } else {
                         const statusLabel = node.element.querySelector('.node-status');
                         if(statusLabel) statusLabel.style.display = 'none';
                    }
                });
            };
            
            const getDarkerColor = (hex) => {
                if (!hex) return '#000000';
                let r = parseInt(hex.slice(1, 3), 16);
                let g = parseInt(hex.slice(3, 5), 16);
                let b = parseInt(hex.slice(5, 7), 16);
                r = Math.max(0, r - 30);
                g = Math.max(0, g - 30);
                b = Math.max(0, b - 30);
                return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
            };

            const updateState = (newState) => {
                currentState = newState;
                btnBefore.classList.toggle('active', newState === 'before');
                btnAfter.classList.toggle('active', newState === 'after');
                applyCurrentStateStyles();
            };

            btnBefore.addEventListener('click', () => updateState('before'));
            btnAfter.addEventListener('click', () => updateState('after'));
            
            closeModalBtn.addEventListener('click', () => tooltipModal.classList.remove('show'));
            tooltipModal.addEventListener('click', (event) => {
                if (event.target === tooltipModal) {
                    tooltipModal.classList.remove('show');
                }
            });
            
            createControls();
            renderDiagram();
            window.addEventListener('resize', renderDiagram);
        });
    </script>
</body>
</html>