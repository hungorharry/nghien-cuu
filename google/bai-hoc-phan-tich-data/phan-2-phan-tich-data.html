<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ph·∫ßn 3: Kh√°m ph√° C√¥ng c·ª• Ph√¢n t√≠ch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f7f8fc;
            line-height: 1.6;
        }
        .lesson-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .lesson-content.active {
            display: block;
        }
        .catalog-btn {
            transition: all 0.3s ease;
            transform: translateY(0);
            white-space: nowrap; 
            overflow: hidden;
            text-overflow: ellipsis; 
            flex-shrink: 0; 
        }
        .catalog-btn.active {
            background-image: linear-gradient(to right, #4f46e5, #7c3aed);
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
            transform: translateY(-2px);
        }
        .catalog-btn:not(.active):hover {
            background-color: #eef2ff;
            color: #4f46e5;
        }
        .takeaway-box {
            background-color: #fffbeb;
            border-left: 4px solid #f59e0b;
        }
        .info-box {
            background-color: #eef2ff;
            border-left: 4px solid #4f46e5;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .flowchart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            background-color: #f9fafb;
            padding: 2rem;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
            overflow-x: auto; 
        }
        .mermaid {
            transform: scale(1.15); /* K√≠ch th∆∞·ªõc v·ª´a ph·∫£i cho t·∫•t c·∫£ flowchart */
            transform-origin: center;
        }
        #catalog-buttons {
            display: flex;
            flex-wrap: wrap; 
            gap: 0.75rem; 
        }
        @media (max-width: 1023px) {
            #catalog-buttons {
                flex-direction: column; 
            }
            .catalog-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body class="text-gray-700">

    <!-- Header / Catalog -->
    <header class="bg-white shadow-sm sticky top-0 z-50 p-4">
        <div class="container mx-auto">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-500">
                    Ph·∫ßn 3: Kh√°m ph√° C√¥ng c·ª• Ph√¢n t√≠ch
                </h1>
                <button id="toggle-catalog-btn" class="p-2 rounded-md hover:bg-gray-100 lg:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
            <nav id="catalog-nav" class="hidden lg:flex">
                 <div id="catalog-buttons">
                     <button data-target="lesson0" class="catalog-btn text-left px-4 py-2 rounded-lg bg-gray-100 active">üöÄ T·ªïng quan Ph·∫ßn 3</button>
                     <button data-target="lesson1" class="catalog-btn text-left px-4 py-2 rounded-lg bg-gray-100">1. L√†m ch·ªß B·∫£ng t√≠nh</button>
                     <button data-target="lesson2" class="catalog-btn text-left px-4 py-2 rounded-lg bg-gray-100">2. B·∫Øt ƒë·∫ßu v·ªõi SQL</button>
                     <button data-target="lesson3" class="catalog-btn text-left px-4 py-2 rounded-lg bg-gray-100">3. Tr·ª±c quan h√≥a D·ªØ li·ªáu</button>
                     <button data-target="lesson4" class="catalog-btn text-left px-4 py-2 rounded-lg bg-gray-100">4. V√≠ d·ª• (Ph·∫ßn 3)</button>
                     <button data-target="lesson_new" class="catalog-btn text-left px-4 py-2 rounded-lg bg-gray-100">5. V√≠ d·ª• (Ph·∫ßn 2)</button>
                     <button data-target="lesson5" class="catalog-btn text-left px-4 py-2 rounded-lg bg-gray-100">6. T·ª´ v·ª±ng Ph·∫ßn 3</button>
                 </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-8">

        <!-- Lesson 0: T√≥m t·∫Øt & Logic -->
        <section id="lesson0" class="lesson-content active">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-indigo-600 flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    Ch√†o m·ª´ng tr·ªü l·∫°i Ph·∫ßn 3!
                </h2>
                <p class="mb-4">Trong c√°c video ti·∫øp theo, b·∫°n s·∫Ω ti·∫øp t·ª•c kh√°m ph√° c√°c c√¥ng c·ª• ph√¢n t√≠ch d·ªØ li·ªáu m√† ch√∫ng ta ƒë√£ th·∫£o lu·∫≠n tr∆∞·ªõc ƒë√¢y v√† b·∫°n s·∫Ω c√≥ c∆° h·ªôi th·∫•y ch√∫ng ho·∫°t ƒë·ªông th·ª±c t·∫ø. ƒêi·ªÅu n√†y s·∫Ω cho b·∫°n m·ªôt b·ª©c tranh r√µ r√†ng h∆°n v·ªÅ c√°ch s·ª≠ d·ª•ng c√°c c√¥ng c·ª• n√†y.</p>
                <ul class="list-disc list-inside space-y-2 mb-4">
                    <li>Ch√∫ng ta s·∫Ω b·∫Øt ƒë·∫ßu v·ªõi <strong>B·∫£ng t√≠nh</strong>, t√¨m hi·ªÉu c√°c t√≠nh nƒÉng v√† ch·ª©c nƒÉng c∆° b·∫£n c·ªßa ch√∫ng.</li>
                    <li>Ti·∫øp theo, ch√∫ng ta s·∫Ω xem <strong>SQL</strong> ho·∫°t ƒë·ªông. B·∫°n s·∫Ω h·ªçc c√°ch SQL gi√∫p c√°c nh√† ph√¢n t√≠ch l·∫•y m·ªôt l∆∞·ª£ng l·ªõn d·ªØ li·ªáu trong v√†i gi√¢y ƒë·ªÉ tr·∫£ l·ªùi c√°c c√¢u h·ªèi kinh doanh nhanh ch√≥ng.</li>
                    <li>Cu·ªëi c√πng, ch√∫ng ta s·∫Ω n√≥i v·ªÅ <strong>Tr·ª±c quan h√≥a D·ªØ li·ªáu</strong>, m√≥n "tr√°ng mi·ªáng" c·ªßa b·ªØa ƒÉn ph√¢n t√≠ch d·ªØ li·ªáu, gi√∫p b·∫°n tr√¨nh b√†y k·∫øt qu·∫£ m·ªôt c√°ch h·∫•p d·∫´n.</li>
                </ul>
                <div class="mt-6 p-4 takeaway-box rounded-lg">
                    <h4 class="font-bold text-lg flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                        M·ª•c ti√™u Ph·∫ßn 3
                    </h4>
                    <p class="mt-2">M·ª•c ti√™u c·ªßa ph·∫ßn n√†y l√† gi√∫p b·∫°n l√†m quen v√† t·ª± tin s·ª≠ d·ª•ng c√°c c√¥ng c·ª• ph√¢n t√≠ch c·ªët l√µi, t·∫°o n·ªÅn t·∫£ng v·ªØng ch·∫Øc cho c√°c ph·∫ßn ti·∫øp theo c·ªßa ch∆∞∆°ng tr√¨nh.</p>
                </div>
            </div>
        </section>

        <!-- Lesson 1: Spreadsheets -->
        <section id="lesson1" class="lesson-content">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-indigo-600">B√†i 1: L√†m ch·ªß B·∫£ng t√≠nh (Spreadsheets)</h2>
                
                <h3 class="text-xl font-semibold mb-3 text-purple-600">D√πng ƒë·ªÉ l√†m g√¨?</h3>
                <p class="mb-4">B·∫£ng t√≠nh (nh∆∞ Google Sheets, Microsoft Excel) l√† c√¥ng c·ª• c∆° b·∫£n nh·∫•t, gi·ªëng nh∆∞ m·ªôt "quy·ªÉn s·ªï ghi ch√©p k·ªπ thu·∫≠t s·ªë th√¥ng minh". N√≥ d√πng ƒë·ªÉ <strong>nh·∫≠p li·ªáu, l∆∞u tr·ªØ, t·ªï ch·ª©c, v√† th·ª±c hi·ªán c√°c ph√©p t√≠nh to√°n, ph√¢n t√≠ch c∆° b·∫£n</strong> tr√™n c√°c b·ªô d·ªØ li·ªáu c√≥ quy m√¥ nh·ªè ƒë·∫øn trung b√¨nh.</p>

                <h3 class="text-xl font-semibold mb-3 text-purple-600">Th·ª±c hi·ªán th·∫ø n√†o v√† ra sao?</h3>
                <p class="mb-2">D·ªØ li·ªáu ƒë∆∞·ª£c t·ªï ch·ª©c v√†o c√°c <strong>√¥ (cells)</strong>, n·∫±m tr√™n c√°c <strong>h√†ng (rows)</strong> v√† <strong>c·ªôt (columns)</strong>. M·ªói c·ªôt ƒë·∫°i di·ªán cho m·ªôt <strong>thu·ªôc t√≠nh</strong> (attribute) nh∆∞ "T√™n s·∫£n ph·∫©m", "Gi√° b√°n". M·ªói h√†ng l√† m·ªôt <strong>quan s√°t</strong> (observation), ch·ª©a to√†n b·ªô th√¥ng tin c·ªßa m·ªôt ƒë·ªëi t∆∞·ª£ng c·ª• th·ªÉ.</p>
                <p class="mb-4">S·ª©c m·∫°nh c·ªßa n√≥ n·∫±m ·ªü <strong>c√¥ng th·ª©c (formulas)</strong> v√† <strong>h√†m (functions)</strong>.
                    <ul class="list-disc list-inside ml-4 mt-2">
                         <li><strong>C√¥ng th·ª©c:</strong> L√† l·ªánh b·∫°n t·ª± vi·∫øt ƒë·ªÉ t√≠nh to√°n. V√≠ d·ª•: <code>=C2*D2</code> ƒë·ªÉ t√≠nh th√†nh ti·ªÅn.</li>
                         <li><strong>H√†m:</strong> L√† c√°c l·ªánh ƒë∆∞·ª£c t√≠ch h·ª£p s·∫µn ƒë·ªÉ th·ª±c hi·ªán t√°c v·ª• ph·ª©c t·∫°p h∆°n. V√≠ d·ª•: <code>=SUM(E2:E100)</code> ƒë·ªÉ t√≠nh t·ªïng doanh thu.</li>
                    </ul>
                </p>

                <h3 class="text-xl font-semibold mb-3 text-purple-600">T·∫°i sao ch√∫ng ta c·∫ßn l√†m nh∆∞ v·∫≠y? (M·ª•c ƒë√≠ch)</h3>
                 <ul class="list-disc list-inside space-y-2 mb-4">
                    <li><strong>T√≠nh tr·ª±c quan v√† d·ªÖ ti·∫øp c·∫≠n:</strong> B·∫•t k·ª≥ ai c≈©ng c√≥ th·ªÉ b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng b·∫£ng t√≠nh m√† kh√¥ng c·∫ßn ki·∫øn th·ª©c l·∫≠p tr√¨nh. N√≥ cho ph√©p b·∫°n "nh√¨n" th·∫•y d·ªØ li·ªáu c·ªßa m√¨nh ngay l·∫≠p t·ª©c.</li>
                    <li><strong>N·ªÅn t·∫£ng cho c√°c b∆∞·ªõc sau:</strong> ƒê√¢y l√† n∆°i l√Ω t∆∞·ªüng ƒë·ªÉ th·ª±c hi·ªán c√°c b∆∞·ªõc l√†m s·∫°ch d·ªØ li·ªáu ban ƒë·∫ßu (Process), s·∫Øp x·∫øp (Sort), v√† th·ª±c hi·ªán c√°c ph√¢n t√≠ch thƒÉm d√≤ nhanh ch√≥ng tr∆∞·ªõc khi chuy·ªÉn sang c√°c c√¥ng c·ª• ph·ª©c t·∫°p h∆°n.</li>
                    <li><strong>M·ª•c ƒë√≠ch ch√≠nh:</strong> ƒê·ªÉ nhanh ch√≥ng t·ªï ch·ª©c d·ªØ li·ªáu l·ªôn x·ªôn, t√¨m ra c√°c insight c∆° b·∫£n, v√† t·∫°o c√°c bi·ªÉu ƒë·ªì ƒë∆°n gi·∫£n ƒë·ªÉ b√°o c√°o nhanh.</li>
                </ul>

                <div class="mt-6 p-4 takeaway-box rounded-lg">
                    <h4 class="font-bold text-lg flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                        V·∫•n ƒë·ªÅ c·∫ßn l∆∞u √Ω
                    </h4>
                    <p class="mt-2">T√≠nh h·ªØu d·ª•ng c·ªßa d·ªØ li·ªáu ph·ª• thu·ªôc r·∫•t nhi·ªÅu v√†o c·∫•u tr√∫c c·ªßa n√≥. B·∫£ng t√≠nh gi√∫p b·∫°n c·∫•u tr√∫c d·ªØ li·ªáu m·ªôt c√°ch c√≥ √Ω nghƒ©a ƒë·ªÉ c√≥ th·ªÉ nh·∫≠n ra c√°c m·∫´u, nh√≥m th√¥ng tin v√† d·ªÖ d√†ng t√¨m th·∫•y nh·ªØng g√¨ b·∫°n c·∫ßn.</p>
                </div>
            </div>
        </section>

        <!-- Lesson 2: SQL -->
        <section id="lesson2" class="lesson-content">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                 <h2 class="text-2xl font-bold mb-4 text-indigo-600">B√†i 2: B·∫Øt ƒë·∫ßu v·ªõi SQL</h2>

                <h3 class="text-xl font-semibold mb-3 text-purple-600">D√πng ƒë·ªÉ l√†m g√¨?</h3>
                <p class="mb-4">SQL l√† m·ªôt <strong>ng√¥n ng·ªØ</strong> chuy√™n d·ª•ng ƒë·ªÉ b·∫°n "n√≥i chuy·ªán" (giao ti·∫øp) v·ªõi c√°c <strong>c∆° s·ªü d·ªØ li·ªáu (databases)</strong>. Khi d·ªØ li·ªáu tr·ªü n√™n qu√° l·ªõn (h√†ng tri·ªáu, h√†ng t·ª∑ d√≤ng) m√† b·∫£ng t√≠nh kh√¥ng th·ªÉ x·ª≠ l√Ω n·ªïi, ch√∫ng ta c·∫ßn c∆° s·ªü d·ªØ li·ªáu ƒë·ªÉ l∆∞u tr·ªØ. SQL ch√≠nh l√† c√¥ng c·ª• ƒë·ªÉ l·∫•y d·ªØ li·ªáu ra kh·ªèi "kho ch·ª©a" kh·ªïng l·ªì ƒë√≥.</p>

                <h3 class="text-xl font-semibold mb-3 text-purple-600">Th·ª±c hi·ªán th·∫ø n√†o v√† ra sao?</h3>
                <p class="mb-2">B·∫°n s·∫Ω vi·∫øt c√°c c√¢u <strong>truy v·∫•n (queries)</strong>, l√† nh·ªØng y√™u c·∫ßu c√≥ c·∫•u tr√∫c r√µ r√†ng. C·∫•u tr√∫c c∆° b·∫£n nh·∫•t m√† b·∫°n c·∫ßn nh·ªõ l√†:</p>
                <div class="flowchart-container">
                    <div class="mermaid">
                    graph TD
                        A[SELECT<br>Ch·ªçn c·ªôt b·∫°n mu·ªën] --> B[FROM<br>T·ª´ b·∫£ng n√†o];
                        B --> C[WHERE<br>V·ªõi ƒëi·ªÅu ki·ªán l·ªçc l√† g√¨];
                    </div>
                </div>
                <p class="mt-4">H√£y t∆∞·ªüng t∆∞·ª£ng b·∫°n ƒëang ra l·ªánh cho m·ªôt ng∆∞·ªùi qu·∫£n l√Ω th∆∞ vi·ªán kh·ªïng l·ªì: "H√£y l·∫•y cho t√¥i (<code>SELECT</code>) t√™n t√°c gi·∫£ v√† nƒÉm xu·∫•t b·∫£n (<code>ten_cot</code>) t·ª´ k·ªá s√°ch L·ªãch s·ª≠ (<code>ten_bang</code>) v·ªõi ƒëi·ªÅu ki·ªán l√† s√°ch ƒë∆∞·ª£c vi·∫øt sau nƒÉm 1990 (<code>dieu_kien</code>)".</p>

                <h3 class="text-xl font-semibold mb-3 mt-6 text-purple-600">T·∫°i sao ch√∫ng ta c·∫ßn l√†m nh∆∞ v·∫≠y? (M·ª•c ƒë√≠ch)</h3>
                 <ul class="list-disc list-inside space-y-2 mb-4">
                    <li><strong>Hi·ªáu su·∫•t v·ªõi d·ªØ li·ªáu l·ªõn:</strong> SQL ƒë∆∞·ª£c t·ªëi ∆∞u ƒë·ªÉ x·ª≠ l√Ω h√†ng tri·ªáu b·∫£n ghi ch·ªâ trong v√†i gi√¢y, ƒëi·ªÅu m√† Excel kh√¥ng th·ªÉ l√†m ƒë∆∞·ª£c.</li>
                    <li><strong>T√≠nh ch√≠nh x√°c v√† c·ª• th·ªÉ:</strong> SQL cho ph√©p b·∫°n l·∫•y ra ch√≠nh x√°c nh·ªØng m·∫©u th√¥ng tin b·∫°n c·∫ßn, thay v√¨ ph·∫£i t·∫£i v·ªÅ to√†n b·ªô d·ªØ li·ªáu. ƒêi·ªÅu n√†y r·∫•t quan tr·ªçng ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian v√† t√†i nguy√™n m√°y t√≠nh.</li>
                    <li><strong>M·ª•c ƒë√≠ch ch√≠nh:</strong> ƒê·ªÉ l√†m vi·ªác v·ªõi c√°c h·ªá th·ªëng d·ªØ li·ªáu l·ªõn c·ªßa doanh nghi·ªáp (nh∆∞ d·ªØ li·ªáu giao d·ªãch c·ªßa m·ªôt ng√¢n h√†ng, d·ªØ li·ªáu ng∆∞·ªùi d√πng c·ªßa m·ªôt m·∫°ng x√£ h·ªôi), tr√≠ch xu·∫•t c√°c b·ªô d·ªØ li·ªáu con ph·ª•c v·ª• cho m·ªôt b√†i to√°n ph√¢n t√≠ch c·ª• th·ªÉ.</li>
                </ul>

                <div class="mt-6 p-4 takeaway-box rounded-lg">
                    <h4 class="font-bold text-lg flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                        V·∫•n ƒë·ªÅ c·∫ßn l∆∞u √Ω
                    </h4>
                    <p class="mt-2">M·∫∑c d√π c√≥ nhi·ªÅu lo·∫°i c∆° s·ªü d·ªØ li·ªáu kh√°c nhau, SQL v·ªÅ c∆° b·∫£n ho·∫°t ƒë·ªông gi·ªëng nhau ·ªü m·ªói n∆°i. Vi·ªác s·ª≠ d·ª•ng ch·ªØ hoa, th·ª•t ƒë·∫ßu d√≤ng v√† ch√∫ th√≠ch (comment) s·∫Ω gi√∫p c√¢u l·ªánh c·ªßa b·∫°n d·ªÖ ƒë·ªçc v√† d·ªÖ g·ª° l·ªói h∆°n r·∫•t nhi·ªÅu.</p>
                </div>
            </div>
        </section>
        
        <!-- Lesson 3: Visualization -->
        <section id="lesson3" class="lesson-content">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                 <h2 class="text-2xl font-bold mb-4 text-indigo-600">B√†i 3: Tr·ª±c quan h√≥a D·ªØ li·ªáu (Data Visualization)</h2>
                
                <h3 class="text-xl font-semibold mb-3 text-purple-600">D√πng ƒë·ªÉ l√†m g√¨?</h3>
                <p class="mb-4">ƒê√¢y l√† qu√° tr√¨nh bi·∫øn d·ªØ li·ªáu kh√¥ khan (c√°c con s·ªë, b·∫£ng bi·ªÉu) th√†nh c√°c <strong>h√¨nh ·∫£nh</strong> (bi·ªÉu ƒë·ªì, ƒë·ªì th·ªã, b·∫£n ƒë·ªì) ƒë·ªÉ truy·ªÅn t·∫£i th√¥ng tin m·ªôt c√°ch nhanh ch√≥ng v√† hi·ªáu qu·∫£. N√≥ l√† "m√≥n tr√°ng mi·ªáng" sau khi b·∫°n ƒë√£ ph√¢n t√≠ch xong, gi√∫p m·ªçi ng∆∞·ªùi "th∆∞·ªüng th·ª©c" k·∫øt qu·∫£ c·ªßa b·∫°n.</p>

                <h3 class="text-xl font-semibold mb-3 text-purple-600">Th·ª±c hi·ªán th·∫ø n√†o v√† ra sao?</h3>
                <p class="mb-2">Quy tr√¨nh g·ªìm 3 b∆∞·ªõc:</p>
                <div class="flowchart-container">
                    <div class="mermaid">
                    graph TD
                        A["B∆∞·ªõc 1: Kh√°m ph√° D·ªØ li·ªáu<br>T√¨m 'c√¢u chuy·ªán' v√† insight"] --> B["B∆∞·ªõc 2: L√™n k·∫ø ho·∫°ch Tr·ª±c quan h√≥a<br>Ch·ªçn lo·∫°i bi·ªÉu ƒë·ªì ph√π h·ª£p"];
                        B --> C["B∆∞·ªõc 3: T·∫°o Tr·ª±c quan h√≥a<br>D√πng c√¥ng c·ª• (Tableau, Power BI,...)"];
                    </div>
                </div>
                 <p class="mt-4">V√≠ d·ª•, ƒë·ªÉ th·ªÉ hi·ªán xu h∆∞·ªõng theo th·ªùi gian, b·∫°n d√πng bi·ªÉu ƒë·ªì ƒë∆∞·ªùng. ƒê·ªÉ so s√°nh c√°c h·∫°ng m·ª•c, b·∫°n d√πng bi·ªÉu ƒë·ªì c·ªôt. ƒê·ªÉ th·ªÉ hi·ªán t·ª∑ l·ªá, b·∫°n d√πng bi·ªÉu ƒë·ªì tr√≤n.</p>
                
                <h3 class="text-xl font-semibold mb-3 mt-6 text-purple-600">T·∫°i sao ch√∫ng ta c·∫ßn l√†m nh∆∞ v·∫≠y? (M·ª•c ƒë√≠ch)</h3>
                 <ul class="list-disc list-inside space-y-2 mb-4">
                     <li><strong>T√°c ƒë·ªông ƒë·∫øn n√£o b·ªô:</strong> Con ng∆∞·ªùi x·ª≠ l√Ω th√¥ng tin h√¨nh ·∫£nh nhanh h∆°n vƒÉn b·∫£n. M·ªôt bi·ªÉu ƒë·ªì t·ªët c√≥ th·ªÉ truy·ªÅn t·∫£i √Ω ch√≠nh trong v√†i gi√¢y.</li>
                     <li><strong>K·ªÉ chuy·ªán hi·ªáu qu·∫£:</strong> Nh∆∞ Lilah chia s·∫ª, h√¨nh ·∫£nh k·ªÉ m·ªôt c√¢u chuy·ªán. Tr·ª±c quan h√≥a gi√∫p b·∫°n thuy·∫øt ph·ª•c c√°c b√™n li√™n quan (ngay c·∫£ nh·ªØng ng∆∞·ªùi kh√¥ng c√≥ chuy√™n m√¥n v·ªÅ d·ªØ li·ªáu) m·ªôt c√°ch thuy·∫øt ph·ª•c nh·∫•t.</li>
                     <li><strong>M·ª•c ƒë√≠ch ch√≠nh:</strong> ƒê·ªÉ truy·ªÅn ƒë·∫°t insight m·ªôt c√°ch r√µ r√†ng, gi√∫p ng∆∞·ªùi kh√°c ƒë∆∞a ra quy·∫øt ƒë·ªãnh d·ª±a tr√™n k·∫øt qu·∫£ ph√¢n t√≠ch c·ªßa b·∫°n, v√† l√†m cho b√°o c√°o c·ªßa b·∫°n tr·ªü n√™n chuy√™n nghi·ªáp v√† h·∫•p d·∫´n h∆°n.</li>
                 </ul>
                 
                 <div class="mt-6 p-4 takeaway-box rounded-lg">
                    <h4 class="font-bold text-lg flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                        V·∫•n ƒë·ªÅ c·∫ßn l∆∞u √Ω
                    </h4>
                    <p class="mt-2">L√Ω do ch√≠nh ƒë·ªÉ t·∫°o tr·ª±c quan h√≥a l√† ƒë·ªÉ l√†m cho d·ªØ li·ªáu d·ªÖ ti√™u h√≥a h∆°n cho kh√°n gi·∫£ c·ªßa b·∫°n. B·∫°n s·∫Ω th√†nh c√¥ng h∆°n trong vi·ªác thuy·∫øt ph·ª•c c√°c b√™n li√™n quan b·∫±ng h√¨nh ·∫£nh thay v√¨ ch·ªâ b·∫±ng l·ªùi n√≥i v√† con s·ªë. M·ªôt tr·ª±c quan h√≥a t·ªët gi√∫p th·ªÉ hi·ªán c√°c xu h∆∞·ªõng v√† m·∫´u m·ªôt c√°ch nhanh ch√≥ng v√† r√µ r√†ng.</p>
                </div>
            </div>
        </section>

        <!-- Lesson 4: Example -->
        <section id="lesson4" class="lesson-content">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-indigo-600 flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>
                    V√≠ d·ª• Minh h·ªça: Ph√¢n t√≠ch Hi·ªáu qu·∫£ Marketing cho Qu√°n C√† ph√™
                </h2>
                <p class="mb-4">H√£y xem c√°ch c√°c c√¥ng c·ª• n√†y k·∫øt h·ª£p v·ªõi nhau trong m·ªôt k·ªãch b·∫£n th·ª±c t·∫ø.</p>
                <div class="info-box p-4 rounded-lg mb-6">
                    <h4 class="font-bold text-lg flex items-center gap-2">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-700" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                         B·ªëi c·∫£nh kinh doanh
                    </h4>
                    <p class="mt-2">M·ªôt qu√°n c√† ph√™ mu·ªën bi·∫øt k√™nh marketing n√†o (Qu·∫£ng c√°o Facebook, Thu√™ ng∆∞·ªùi ·∫£nh h∆∞·ªüng tr√™n Instagram, Ph√°t t·ªù r∆°i) mang l·∫°i hi·ªáu qu·∫£ cao nh·∫•t ƒë·ªÉ ph√¢n b·ªï ng√¢n s√°ch cho th√°ng t·ªõi.</p>
                </div>

                <div class="space-y-4">
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <h4 class="font-bold text-lg text-indigo-600">B∆∞·ªõc 1: D√πng B·∫£ng t√≠nh ƒë·ªÉ Thu th·∫≠p & T·ªï ch·ª©c D·ªØ li·ªáu ban ƒë·∫ßu</h4>
                        <p class="mt-2 text-gray-600">Nh√† ph√¢n t√≠ch t·∫°o m·ªôt file Google Sheets ƒë·ªÉ ghi l·∫°i d·ªØ li·ªáu h√†ng tu·∫ßn:</p>
                         <div class="overflow-x-auto mt-2">
                             <table class="min-w-full text-sm text-left">
                                 <thead class="bg-gray-200">
                                     <tr>
                                         <th class="p-2">Tu·∫ßn</th>
                                         <th class="p-2">K√™nh Marketing</th>
                                         <th class="p-2">Chi ph√≠ (VNƒê)</th>
                                         <th class="p-2">Doanh thu t·ª´ k√™nh (VNƒê)</th>
                                     </tr>
                                 </thead>
                                 <tbody>
                                     <tr><td class="p-2 border-t">1</td><td class="p-2 border-t">Facebook Ads</td><td class="p-2 border-t">2,000,000</td><td class="p-2 border-t">8,000,000</td></tr>
                                     <tr><td class="p-2 border-t">1</td><td class="p-2 border-t">Instagram Influencer</td><td class="p-2 border-t">5,000,000</td><td class="p-2 border-t">15,000,000</td></tr>
                                     <tr><td class="p-2 border-t">1</td><td class="p-2 border-t">Ph√°t t·ªù r∆°i</td><td class="p-2 border-t">500,000</td><td class="p-2 border-t">1,000,000</td></tr>
                                 </tbody>
                             </table>
                         </div>
                         <p class="mt-2 text-gray-600">Trong b·∫£ng t√≠nh, h·ªç d√πng c√¥ng th·ª©c ƒë·ªÉ t√≠nh c·ªôt ROI (Return on Investment): <code>=(Doanh_thu - Chi_phi) / Chi_phi</code></p>
                    </div>
                    
                     <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <h4 class="font-bold text-lg text-indigo-600">B∆∞·ªõc 2: D√πng SQL ƒë·ªÉ Truy v·∫•n D·ªØ li·ªáu (Khi d·ªØ li·ªáu l·ªõn)</h4>
                        <p class="mt-2 text-gray-600">Gi·∫£ s·ª≠ d·ªØ li·ªáu c·ªßa qu√°n ƒë∆∞·ª£c l∆∞u trong m·ªôt c∆° s·ªü d·ªØ li·ªáu l·ªõn. ƒê·ªÉ t√¨m ra k√™nh marketing n√†o c√≥ ROI cao nh·∫•t, nh√† ph√¢n t√≠ch vi·∫øt m·ªôt c√¢u truy v·∫•n SQL:</p>
                        <div class="bg-gray-800 text-white p-4 rounded-lg mt-2 font-mono text-sm">
                            <span class="text-pink-400">SELECT</span><br>
                            &nbsp;&nbsp;kenh_marketing,<br>
                            &nbsp;&nbsp;<span class="text-cyan-400">AVG</span>((doanh_thu - chi_phi) / chi_phi) <span class="text-pink-400">AS</span> roi_trung_binh<br>
                            <span class="text-pink-400">FROM</span><br>
                            &nbsp;&nbsp;bang_hieu_qua_marketing<br>
                            <span class="text-pink-400">GROUP BY</span><br>
                            &nbsp;&nbsp;kenh_marketing<br>
                            <span class="text-pink-400">ORDER BY</span><br>
                            &nbsp;&nbsp;roi_trung_binh <span class="text-pink-400">DESC</span>;
                        </div>
                    </div>
                    
                     <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <h4 class="font-bold text-lg text-indigo-600">B∆∞·ªõc 3: D√πng Tr·ª±c quan h√≥a ƒë·ªÉ Tr√¨nh b√†y K·∫øt qu·∫£</h4>
                        <p class="mt-2 text-gray-600">Sau khi c√≥ k·∫øt qu·∫£ t·ª´ SQL, nh√† ph√¢n t√≠ch t·∫°o m·ªôt bi·ªÉu ƒë·ªì c·ªôt ƒë∆°n gi·∫£n tr√™n Tableau ƒë·ªÉ tr√¨nh b√†y cho ch·ªß qu√°n:</p>
                         <div class="flowchart-container mt-2">
                             <div class="mermaid">
                                 graph TD
                                     subgraph Hi·ªáu qu·∫£ Marketing theo K√™nh
                                         A[Facebook Ads: 300% ROI]
                                         B[Instagram Influencer: 200% ROI]
                                         C[Ph√°t t·ªù r∆°i: 100% ROI]
                                     end
                             </div>
                         </div>
                         <p class="mt-2"><strong>K·∫øt lu·∫≠n:</strong> "D·ª±a tr√™n bi·ªÉu ƒë·ªì, Facebook Ads ƒëang mang l·∫°i l·ª£i nhu·∫≠n tr√™n ƒë·∫ßu t∆∞ cao nh·∫•t. Ch√∫ng ta n√™n c√¢n nh·∫Øc tƒÉng ng√¢n s√°ch cho Facebook v√† gi·∫£m ho·∫∑c thay ƒë·ªïi c√°ch ti·∫øp c·∫≠n v·ªõi ph√°t t·ªù r∆°i."</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Lesson 5 (New): Example from Part 2 -->
        <section id="lesson_new" class="lesson-content">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-indigo-600 flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>
                    V√≠ d·ª• Minh h·ªça (Kh√°i ni·ªám Ph·∫ßn 2): V√≤ng ƒë·ªùi & Quy tr√¨nh
                </h2>
                <p class="mb-4">H√£y xem c√°ch c√°c kh√°i ni·ªám t·ª´ Ph·∫ßn 2 (V√≤ng ƒë·ªùi D·ªØ li·ªáu v√† Quy tr√¨nh Ph√¢n t√≠ch) ƒë∆∞·ª£c √°p d·ª•ng trong m·ªôt k·ªãch b·∫£n th·ª±c t·∫ø.</p>
                <div class="info-box p-4 rounded-lg mb-6">
                    <h4 class="font-bold text-lg flex items-center gap-2">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-700" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                         B·ªëi c·∫£nh: Chu·ªói c√† ph√™ "The Daily Grind" mu·ªën ra m·∫Øt ch∆∞∆°ng tr√¨nh kh√°ch h√†ng th√¢n thi·∫øt.
                    </h4>
                </div>

                <h3 class="text-xl font-semibold mb-3 text-purple-600">·ª®ng d·ª•ng V√≤ng ƒë·ªùi D·ªØ li·ªáu:</h3>
                 <ul class="list-disc list-inside space-y-3 mb-6">
                    <li><strong>Plan:</strong> Quy·∫øt ƒë·ªãnh thu th·∫≠p d·ªØ li·ªáu giao d·ªãch c·ªßa kh√°ch h√†ng (mua g√¨, khi n√†o, bao nhi√™u ti·ªÅn) trong 1 nƒÉm ƒë·ªÉ hi·ªÉu h√†nh vi.</li>
                    <li><strong>Capture:</strong> Thu th·∫≠p d·ªØ li·ªáu t·ª´ h·ªá th·ªëng m√°y b√°n h√†ng (POS) t·∫°i t·∫•t c·∫£ c√°c c·ª≠a h√†ng.</li>
                    <li><strong>Manage:</strong> L∆∞u tr·ªØ d·ªØ li·ªáu giao d·ªãch trong c∆° s·ªü d·ªØ li·ªáu ƒë√°m m√¢y an to√†n, ch·ªâ cho ph√©p nh√≥m ph√¢n t√≠ch truy c·∫≠p.</li>
                    <li><strong>Analyze:</strong> (ƒê√¢y l√† l√∫c Quy tr√¨nh Ph√¢n t√≠ch D·ªØ li·ªáu ƒë∆∞·ª£c √°p d·ª•ng - xem b√™n d∆∞·ªõi).</li>
                    <li><strong>Archive:</strong> Sau 2 nƒÉm, d·ªØ li·ªáu giao d·ªãch chi ti·∫øt s·∫Ω ƒë∆∞·ª£c chuy·ªÉn sang kho l∆∞u tr·ªØ l·∫°nh (cold storage) ƒë·ªÉ tham kh·∫£o, kh√¥ng d√πng cho ph√¢n t√≠ch h√†ng ng√†y n·ªØa.</li>
                    <li><strong>Destroy:</strong> Theo quy ƒë·ªãnh b·∫£o m·∫≠t, th√¥ng tin c√° nh√¢n c·ªßa kh√°ch h√†ng kh√¥ng ho·∫°t ƒë·ªông trong 5 nƒÉm s·∫Ω ƒë∆∞·ª£c x√≥a vƒ©nh vi·ªÖn kh·ªèi h·ªá th·ªëng.</li>
                </ul>
                
                <h3 class="text-xl font-semibold mb-3 text-purple-600">·ª®ng d·ª•ng Quy tr√¨nh Ph√¢n t√≠ch D·ªØ li·ªáu:</h3>
                <div class="space-y-4">
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <p><strong>1. Ask:</strong> "ƒê·∫∑c ƒëi·ªÉm c·ªßa nh·ªØng kh√°ch h√†ng trung th√†nh nh·∫•t c·ªßa ch√∫ng ta l√† g√¨, v√† h·ªç s·∫Ω ƒë√°nh gi√° cao lo·∫°i ph·∫ßn th∆∞·ªüng n√†o nh·∫•t?"</p>
                    </div>
                     <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <p><strong>2. Prepare:</strong> Thu th·∫≠p d·ªØ li·ªáu t·ª´ h·ªá th·ªëng POS: ID kh√°ch h√†ng, ng√†y/gi·ªù giao d·ªãch, c√°c m√≥n ƒë√£ mua, t·ªïng s·ªë ti·ªÅn.</p>
                    </div>
                     <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <p><strong>3. Process:</strong> L√†m s·∫°ch d·ªØ li·ªáu, x·ª≠ l√Ω c√°c giao d·ªãch b·ªã h·ªßy, ƒë·∫£m b·∫£o t√™n s·∫£n ph·∫©m nh·∫•t qu√°n.</p>
                    </div>
                     <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <p><strong>4. Analyze:</strong> S·ª≠ d·ª•ng SQL ƒë·ªÉ t√¨m ra c√°c kh√°ch h√†ng chi ti√™u nhi·ªÅu nh·∫•t, t·∫ßn su·∫•t mua h√†ng cao nh·∫•t, v√† c√°c s·∫£n ph·∫©m ph·ªï bi·∫øn nh·∫•t.</p>
                    </div>
                     <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <p><strong>5. Share:</strong> T·∫°o m·ªôt b·∫£n tr√¨nh b√†y v·ªõi bi·ªÉu ƒë·ªì c·ªôt v·ªÅ c√°c m√≥n h√†ng ƒë·∫ßu v√† bi·ªÉu ƒë·ªì ph√¢n t√°n cho th·∫•y m·ªëi quan h·ªá gi·ªØa t·∫ßn su·∫•t v√† s·ªë ti·ªÅn chi ti√™u. Tr√¨nh b√†y cho ƒë·ªôi marketing.</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <p><strong>6. Act:</strong> D·ª±a tr√™n insight r·∫±ng kh√°ch h√†ng trung th√†nh th∆∞·ªùng mua c√† ph√™ v√†o bu·ªïi s√°ng, ƒë·ªôi marketing quy·∫øt ƒë·ªãnh ra m·∫Øt ch∆∞∆°ng tr√¨nh "Mua 5 ly c√† ph√™ s√°ng, t·∫∑ng 1 ly mi·ªÖn ph√≠".</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lesson 5: Vocabulary -->
        <section id="lesson5" class="lesson-content">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-indigo-600 flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" /></svg>
                    T·ª´ v·ª±ng c·∫ßn ghi nh·ªõ (Ph·∫ßn 3)
                </h2>
                <div class="grid md:grid-cols-2 gap-x-8 gap-y-4">
                    <div><strong class="font-semibold text-purple-700">Spreadsheet (B·∫£ng t√≠nh):</strong> M·ªôt trang t√≠nh k·ªπ thu·∫≠t s·ªë ƒë·ªÉ l∆∞u tr·ªØ, t·ªï ch·ª©c v√† t√≠nh to√°n d·ªØ li·ªáu.</div>
                    <div><strong class="font-semibold text-purple-700">Formula (C√¥ng th·ª©c):</strong> M·ªôt t·∫≠p h·ª£p c√°c ch·ªâ d·∫´n ƒë·ªÉ th·ª±c hi·ªán m·ªôt ph√©p t√≠nh c·ª• th·ªÉ trong b·∫£ng t√≠nh.</div>
                    <div><strong class="font-semibold text-purple-700">Function (H√†m):</strong> M·ªôt l·ªánh ƒë∆∞·ª£c ƒë·ªãnh s·∫µn ƒë·ªÉ t·ª± ƒë·ªông th·ª±c hi·ªán m·ªôt t√°c v·ª•.</div>
                    <div><strong class="font-semibold text-purple-700">Query Language (Ng√¥n ng·ªØ truy v·∫•n):</strong> Ng√¥n ng·ªØ l·∫≠p tr√¨nh d√πng ƒë·ªÉ giao ti·∫øp v·ªõi c∆° s·ªü d·ªØ li·ªáu.</div>
                    <div><strong class="font-semibold text-purple-700">SQL (Structured Query Language):</strong> Ng√¥n ng·ªØ truy v·∫•n c√≥ c·∫•u tr√∫c, ph·ªï bi·∫øn nh·∫•t ƒë·ªÉ l√†m vi·ªác v·ªõi c∆° s·ªü d·ªØ li·ªáu.</div>
                    <div><strong class="font-semibold text-purple-700">Query (Truy v·∫•n):</strong> M·ªôt y√™u c·∫ßu ƒë·ªÉ l·∫•y d·ªØ li·ªáu ho·∫∑c th√¥ng tin t·ª´ c∆° s·ªü d·ªØ li·ªáu.</div>
                    <div><strong class="font-semibold text-purple-700">Database (C∆° s·ªü d·ªØ li·ªáu):</strong> M·ªôt b·ªô s∆∞u t·∫≠p d·ªØ li·ªáu c√≥ c·∫•u tr√∫c ƒë∆∞·ª£c l∆∞u tr·ªØ trong m·ªôt h·ªá th·ªëng m√°y t√≠nh.</div>
                    <div><strong class="font-semibold text-purple-700">Data Visualization (Tr·ª±c quan h√≥a d·ªØ li·ªáu):</strong> S·ª± bi·ªÉu di·ªÖn th√¥ng tin b·∫±ng ƒë·ªì h·ªça.</div>
                </div>
            </div>
        </section>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            mermaid.initialize({ startOnLoad: false, theme: 'base', themeVariables: {
                'primaryColor': '#f9fafb',
                'primaryTextColor': '#374151',
                'primaryBorderColor': '#e5e7eb',
                'lineColor': '#6b7280',
                'secondaryColor': '#dbeafe',
                'tertiaryColor': '#eef2ff'
            }});
            
            const catalogButtonsContainer = document.getElementById('catalog-buttons');
            const lessonContents = document.querySelectorAll('.lesson-content');
            const catalogNav = document.getElementById('catalog-nav');
            const toggleBtn = document.getElementById('toggle-catalog-btn');

            const showLesson = (targetId) => {
                lessonContents.forEach(content => content.classList.remove('active'));
                const targetContent = document.getElementById(targetId);
                if (targetContent) {
                    targetContent.classList.add('active');
                    
                    const diagramsToRender = targetContent.querySelectorAll('.mermaid');
                    if (diagramsToRender.length > 0) {
                        mermaid.run({
                            nodes: diagramsToRender,
                        });
                    }
                }
            };
            
            const updateActiveButton = (targetId) => {
                 catalogButtonsContainer.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                 const targetButton = catalogButtonsContainer.querySelector(`[data-target="${targetId}"]`);
                 if (targetButton) {
                     targetButton.classList.add('active');
                 }
            };
            
            catalogButtonsContainer.addEventListener('click', function (e) {
                const button = e.target.closest('button[data-target]');
                if (button) {
                    const targetId = button.getAttribute('data-target');
                    updateActiveButton(targetId);
                    showLesson(targetId);
                    if (window.innerWidth < 1024) {
                        catalogNav.classList.add('hidden');
                    }
                }
            });
            
            toggleBtn.addEventListener('click', () => {
                catalogNav.classList.toggle('hidden');
            });
            
            const adjustNav = () => {
                if (window.innerWidth >= 1024) {
                    catalogNav.classList.remove('hidden');
                } else {
                    catalogNav.classList.add('hidden');
                }
            };
            
            window.addEventListener('resize', adjustNav);
            
            const initialLessonId = 'lesson0';
            updateActiveButton(initialLessonId);
            showLesson(initialLessonId); 
            adjustNav();
        });
    </script>
</body>
</html>
